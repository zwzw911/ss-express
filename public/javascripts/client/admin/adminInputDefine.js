/**
 * Created by wzhan039 on 2016-04-04.
 */
var adminInputDefineApp=angular.module('adminInputDefineApp',[]);
//客户端的input对应的属性和rule，都是根据server端对input的定义和rule生成的（自动脚本，节省人工检查）
adminInputDefineApp.factory('adminInputDefine',function(){
    /* 通过assist_func下generateClientInputDefineAndProperty.js函数根据server端定义自动生成
     * value: 当前值
     * originalValue：前一次的值
     * blur：鼠标是否离开
     * focus：鼠标是否点击
     * inputType: input类型：text/number/password
     * inputIcon: input使用的图标。一般为空
     * chineseName：input在页面上的label名
     * valid：初始为undefined（没有验证）；之后为boolean：表示验证结果
     * errorMsg：显示错误信息（比如验证失败）
     * */
    //var defaultSetting={value:'',originalValue:'',blur:false,focus:true,inputType:"text",inputIcon:"fa-user",chineseName:"图片上传目录",itemExist:false,valid:undefined,errorMsg:""}
    var adminInputClientSetting={
        inner_image:
        { uploadPath:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '图片上传目录',
            valid: undefined,
            errorMsg: '' },
            maxWidth:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '上传图片最大宽度',
                valid: undefined,
                errorMsg: '' },
            maxHeight:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '上传图片最大高度',
                valid: undefined,
                errorMsg: '' },
            maxSize:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '上传图片最大尺寸',
                valid: undefined,
                errorMsg: '' },
            maxNum:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '最多上传图片数量',
                valid: undefined,
                errorMsg: '' } },
        userIcon:
        { fileName:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '头像文件名',
            valid: undefined,
            errorMsg: '' },
            uploadDir:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '头像保存目录',
                valid: undefined,
                errorMsg: '' },
            userIconMaxSizeGm:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '头像文件最大尺寸',
                valid: undefined,
                errorMsg: '' },
            userIconWidth:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '头像文件最大宽度',
                valid: undefined,
                errorMsg: '' },
            userIconHeight:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '头像文件最大高度',
                valid: undefined,
                errorMsg: '' } },
        article:
        { articleAuthorNum:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '最多保存打开文档数',
            valid: undefined,
            errorMsg: '' },
            maxKeyNum:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '文档最多关键字数量',
                valid: undefined,
                errorMsg: '' },
            commentPageSize:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '每页最多显示评论数',
                valid: undefined,
                errorMsg: '' },
            commentPageLength:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '每页最多显示评论数',
                valid: undefined,
                errorMsg: '' } },
        articleFolder:
        { pageSize:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '每页最多显示文档数',
            valid: undefined,
            errorMsg: '' },
            pageLength:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '分页最多显示页数',
                valid: undefined,
                errorMsg: '' } },
        search:
        { maxKeyNum:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '搜索能处理的最大关键字数',
            valid: undefined,
            errorMsg: '' },
            totalKeyLen:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '搜索字符串最大长度',
                valid: undefined,
                errorMsg: '' },
            maxSearchResultNum:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '最多显示搜索结果数',
                valid: undefined,
                errorMsg: '' },
            searchResultPageSize:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '每页最多显示搜索结果数',
                valid: undefined,
                errorMsg: '' },
            searchResultPageLength:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '搜索结果显示的最大页数',
                valid: undefined,
                errorMsg: '' },
            showContentLength:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '搜索出的文档最多显示的字数',
                valid: undefined,
                errorMsg: '' } },
        main:
        { latestArticleNum:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '首页显示最大文档数',
            valid: undefined,
            errorMsg: '' },
            truncatePureContent:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '首页文档最大字符数',
                valid: undefined,
                errorMsg: '' } },
        miscellaneous:
        { captchaExpire:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: 'captcha最大保存时间',
            valid: undefined,
            errorMsg: '' } },
        attachment:
        { maxSize:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '最大附件数',
            valid: undefined,
            errorMsg: '' },
            validSuffix:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '附件类型',
                valid: undefined,
                errorMsg: '' },
            validImageSuffix:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '上传图片类型',
                valid: undefined,
                errorMsg: '' },
            maxAvaliableSpace:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '最多上传附件容量',
                valid: undefined,
                errorMsg: '' },
            maxUploadNum:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '最多上传附件数量',
                valid: undefined,
                errorMsg: '' },
            maxTotalNum:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '最每篇文档最多上传附件数量',
                valid: undefined,
                errorMsg: '' },
            saveDir:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '保存附件的文件夹',
                valid: undefined,
                errorMsg: '' },
            fileNameLength:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '附件名的长度',
                valid: undefined,
                errorMsg: '' } },
        adminLogin:
        { maxFailTimes:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '每天最大尝试登录次数',
            valid: undefined,
            errorMsg: '' },
            existTTL:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '管理员登录保持最长时间',
                valid: undefined,
                errorMsg: '' },
            namePasswordTTL:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '管理员用户名密码最大保存时间',
                valid: undefined,
                errorMsg: '' } },
        intervalCheckBaseIP:
        { expireTimeBetween2Req:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: '两次请求间隔时间',
            valid: undefined,
            errorMsg: '' },
            expireTimeOfRejectTimes:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '拒绝次数最长保存请求时间',
                valid: undefined,
                errorMsg: '' },
            timesInDuration:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '时间段内最大请求次数',
                valid: undefined,
                errorMsg: '' },
            duration:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '时间段',
                valid: undefined,
                errorMsg: '' },
            rejectTimesThreshold:
            { value: '',
                originalValue: '',
                blur: false,
                focus: true,
                inputDataType: 'text',
                inputIcon: '',
                chineseName: '拒绝次数门限值',
                valid: undefined,
                errorMsg: '' } },
        Lua:
        { scriptPath:
        { value: '',
            originalValue: '',
            blur: false,
            focus: true,
            inputDataType: 'text',
            inputIcon: '',
            chineseName: 'Lua目录',
            valid: undefined,
            errorMsg: '' } } }


    var  adminInputRule={
        inner_image:
        { uploadPath: { require: true, maxLength: 1024 },
            maxWidth: { require: true, min: 50, max: 750 },
            maxHeight: { require: true, min: 80, max: 600 },
            maxSize: { require: true, min: 600, max: 900 },
            maxNum: { require: true, min: 1, max: 5 } },
        userIcon:
        { fileName: { require: true },
            uploadDir: { require: true, maxLength: 1024 },
            userIconMaxSizeGm: { require: true, min: 100, max: 200 },
            userIconWidth: { require: true, min: 80, max: 104 },
            userIconHeight: { require: true, min: 80, max: 104 } },
        article:
        { articleAuthorNum: { require: true, min: 5, max: 20 },
            maxKeyNum: { require: true, min: 1, max: 5 },
            commentPageSize: { require: true, min: 1, max: 5 },
            commentPageLength: { require: true, min: 2, max: 10 } },
        articleFolder:
        { pageSize: { require: true, min: 2, max: 10 },
            pageLength: { require: true, min: 2, max: 10 } },
        search:
        { maxKeyNum: { require: true, min: 1, max: 5 },
            totalKeyLen: { require: true, min: 1, max: 20 },
            maxSearchResultNum: { require: true, min: 50, max: 100 },
            searchResultPageSize: { require: true, min: 1, max: 10 },
            searchResultPageLength: { require: true, min: 1, max: 10 },
            showContentLength: { require: true, min: 50, max: 100 } },
        main:
        { latestArticleNum: { require: true, min: 2, max: 10 },
            truncatePureContent: { require: true, min: 150, max: 250 } },
        miscellaneous: { captchaExpire: { require: true, min: 30, max: 60 } },
        attachment:
        { maxSize: { require: true, min: 0, max: 5242880 },
            validSuffix: { require: true },
            validImageSuffix: { require: true },
            maxAvaliableSpace: { require: true, min: 0, max: 52428800 },
            maxUploadNum: { require: true, min: 1, max: 5 },
            maxTotalNum: { require: true, min: 1, max: 5 },
            saveDir: { require: true, maxLength: 1024 },
            fileNameLength: { require: true, min: 5, max: 1024 } },
        adminLogin:
        { maxFailTimes: { require: true, min: 3, max: 10 },
            existTTL: { require: true, min: 120, max: 600 },
            namePasswordTTL: { require: true, min: 120, max: 600 } },
        intervalCheckBaseIP:
        { expireTimeBetween2Req: { require: true, min: 200, max: 1000 },
            expireTimeOfRejectTimes: { require: true, min: 600, max: 3600 },
            timesInDuration: { require: true, min: 5, max: 30 },
            duration: { require: true, min: 20, max: 60 },
            rejectTimesThreshold: { require: true, min: 5, max: 30 } },
        Lua: { scriptPath: { require: true }
        }
    }
    return {adminInputClientSetting:adminInputClientSetting,adminInputRule:adminInputRule}
})
